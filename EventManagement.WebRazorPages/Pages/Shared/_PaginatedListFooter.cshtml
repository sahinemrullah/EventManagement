@using EventManagement.WebRazorPages.Pages.Models
@model IPaginatedList

<div class="d-flex flex-row-reverse">
    <div class="mb-5">
        <ul class="pagination">
            @if (Model.HasPrevious)
            {
                <li class="page-item">
                    <a class="page-link" data-value="@(Model.CurrentPage - 1)"><span aria-hidden="true">&laquo;</span></a>
                </li>
                int prevLimit = Math.Min(Model.CurrentPage - 1, 2);
                @for (int i = prevLimit; i > 0; i--)
                {
                    int previousPageNumber = Model.CurrentPage - i;
                    <li class="page-item" aria-current="page">
                        <a class="page-link" data-value="@previousPageNumber">@previousPageNumber</a>
                    </li>
                }
            }
            else
            {
                <li class="page-item">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true"><span aria-hidden="true">&laquo;</span></a>
                </li>
            }
            <li class="page-item active" aria-current="page">
                <a class="page-link" href="#">@Model.CurrentPage</a>
            </li>
            @if (Model.HasNext)
            {
                int nextLimit = Math.Min(Model.TotalPages - Model.CurrentPage, 2);
                @for (int i = 1; i <= nextLimit; i++)
                {
                    int nextPageNumber = Model.CurrentPage + i;
                    <li class="page-item" aria-current="page">
                        <a class="page-link" data-value="@nextPageNumber">@nextPageNumber</a>
                    </li>
                }
                <li class="page-item">
                    <a class="page-link" data-value="@(Model.CurrentPage + 1)"><span aria-hidden="true">&raquo;</span></a>
                </li>
            }
            else
            {
                <li class="page-item">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true"><span aria-hidden="true">&raquo;</span></a>
                </li>
            }
        </ul>
    </div>
</div>
